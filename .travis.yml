language: julia
os:
    - linux
julia:
    - 1
notifications:
    email: false
sudo: false
addons:
    apt_packages:
        - gfortran
        - liblapack-dev
        - libblas-dev
script:
- julia -e 'const PACKAGE = ENV["PACKAGE"]; using Pkg; Pkg.develop("MathOptInterface"); Pkg.develop(PACKAGE); Pkg.test(PACKAGE)'
jobs:
  include:
    - env: PACKAGE=Tulip
    - env: PACKAGE=SCIP
      addons:
        apt:
          packages:
          - libblas3
          - libc6
          - libgcc1
          - libgfortran4
          - libgmp10
          - libgsl23
          - liblapack3
          - libquadmath0
          - libstdc++6
          - libtbb2
          - zlib1g
before_install:
  - export VERSION=7.0.0
  - export DEBFILE=SCIPOptSuite-$VERSION-Linux.deb
  - if [ "$PACKAGE" = "SCIP" ]; then wget --no-check-certificate https://scip.zib.de/download/release/$DEBFILE; fi
  - if [ "$PACKAGE" = "SCIP" ]; then sudo dpkg -i $DEBFILE ; fi
